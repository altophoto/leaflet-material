"use strict";L.Control.include({defaultMaterialOptions:{fab:!0,miniFab:!0,rippleEffect:!0,toolTips:!1,color:"lime-A200"},_setDefaultOptions:function(){var t={};for(var e in this.defaultMaterialOptions)t[e]=this.defaultMaterialOptions[e];if("undefined"!=typeof this.options.materialOptions)for(var e in this.options.materialOptions)t[e]=this.options.materialOptions[e];return t},_addToolTip:function(t,e,o){var i=t.parentNode,l=L.DomUtil.create("div","mdl-tooltip",i);return l.setAttribute("for",e),l.innerHTML=o,l},_createMaterialButton:function(t,e,o,i,l){var a="mdl-button mdl-js-button mdl-button--icon",s=this._setDefaultOptions(),r=L.DomUtil.create("button",a,i);if(this._materialIcon=L.DomUtil.create("i","material-icons",r),this._materialIcon.innerHTML=e,r.title=o,r.id=t,s.fab&&(L.DomUtil.removeClass(r,"mdl-button--icon"),L.DomUtil.addClass(r,"mdl-button--fab"),s.miniFab&&L.DomUtil.addClass(r,"mdl-button--mini-fab")),s.rippleEffect&&L.DomUtil.addClass(r,"mdl-js-ripple-effect"),s.color){var n;if("boolean"==typeof s.color)n="mdl-button--colored";else switch(s.color){case"colored":n="mdl-button--colored";break;case"primary":n="mdl-button--primary";break;case"accent":n="mdl-button--accent";break;default:n="mdl-color--"+s.color}L.DomUtil.addClass(r,n)}return l&&L.DomUtil.addClass(r,l),s.toolTips&&(this._materialToolTip=this._addToolTip(r,t,o),r.removeAttribute("title")),this._materialButton=r,this._materialButton}}),L.Control.MaterialFullscreen=L.Control.Fullscreen.extend({onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-fullscreen-mdl leaflet-bar-mdl"),o=this.options,i=this._createMaterialButton("leaflet-fullscreen-mdl","fullscreen",o.title["false"],e);return this._map=t,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(i,"click",this._click,this),e},_toggleTitle:function(){var t={"false":"fullscreen","true":"fullscreen_exit"};this._materialButton.title=this.options.title[this._map.isFullscreen()],this._materialIcon.innerHTML=t[this._map.isFullscreen()],this._materialToolTip&&(this._materialToolTip.innerHTML=this.options.title[this._map.isFullscreen()],this._materialButton.removeAttribute("title"))}}),L.Control.MaterialZoom=L.Control.Zoom.extend({onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-zoom-mdl leaflet-bar-mdl"),o=this.options;return o.zoomInText="+"===o.zoomInText?"add":o.zoomInText,o.zoomOutText="-"===o.zoomOutText?"remove":o.zoomInText,this._zoomInButton=this._createMaterialButton("leaflet-zoom-in-mdl",o.zoomInText,o.zoomInTitle,e),this._zoomOutButton=this._createMaterialButton("leaflet-zoom-out-mdl",o.zoomOutText,o.zoomOutTitle,e),this._addZoomFunction(this._zoomInButton,this._zoomIn),this._addZoomFunction(this._zoomOutButton,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},_addZoomFunction:function(t,e){return L.DomEvent.on(t,"mousedown dblclick",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.stop).on(t,"click",e,this).on(t,"click",this._refocusOnMap,this),t},_updateDisabled:function(){var t=this._map;this._zoomInButton.removeAttribute("disabled"),this._zoomOutButton.removeAttribute("disabled"),(this._disabled||t._zoom===t.getMinZoom())&&this._zoomOutButton.setAttribute("disabled",!0),(this._disabled||t._zoom===t.getMaxZoom())&&this._zoomInButton.setAttribute("disabled",!0)}}),L.Control.MaterialLayers=L.Control.Layers.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},_initLayout:function(){var t="leaflet-control-layers-mdl",e=this._container=L.DomUtil.create("div",t+" leaflet-bar-mdl"),o="leaflet-control-layers-toggle-mdl";MaterialMenu.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:400},e.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(e,"click",L.DomEvent.stopPropagation):L.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i="mdl-menu mdl-js-menu mdl-js-menu",l=this._form=L.DomUtil.create("ul",i);switch(l.setAttribute("for",o),this.options.materialOptions.rippleEffect&&L.DomUtil.addClass(l,"mdl-js-ripple-effect"),this.options.position){case"topleft":L.DomUtil.addClass(l,"mdl-menu--bottom-left");break;case"topright":L.DomUtil.addClass(l,"mdl-menu--bottom-right");break;case"bottomright":L.DomUtil.addClass(l,"mdl-menu--top-right");break;case"bottomleft":L.DomUtil.addClass(l,"mdl-menu--top-left")}var a=this._layersLink=this._createMaterialButton(o,"layers","Layers",e);this._baseLayersList=L.DomUtil.create("div",t+"-base",l),this._separator=L.DomUtil.create("div",t+"-separator",l),this._overlaysList=L.DomUtil.create("div",t+"-overlays",l);var s=L.DomUtil.create("li","mdl-menu__divider",this._separator);s.innerHTML="<hr />",e.appendChild(l)},_addItem:function(t){var e="mdl-menu__item",o=L.DomUtil.create("li",e),i=document.createElement("label"),l=this._map.hasLayer(t.layer),a,s,r;this.options.materialOptions.rippleEffect&&L.DomUtil.addClass(i,"mdl-js-ripple-effect"),t.overlay?(L.DomUtil.addClass(i,"mdl-checkbox mdl-js-checkbox"),s="mdl-layer-checkbox-"+L.stamp(t.layer),i.setAttribute("for",s),r=L.DomUtil.create("input","mdl-checkbox__input"),r.type="checkbox",r.defaultChecked=l,r.id=s,a="mdl-checkbox__label"):(L.DomUtil.addClass(i,"mdl-radio mdl-js-radio"),s="mdl-layer-option-"+L.stamp(t.layer),i.setAttribute("for",s),o.innerHTML=this._createRadioElement("leaflet-base-layers",l),r=o.firstChild,r.id=s,a="mdl-radio__label"),r.layerId=L.stamp(t.layer),L.DomEvent.on(r,"click",this._onInputClick,this);var n=L.DomUtil.create("span",a);n.innerHTML=t.name,i.appendChild(r),i.appendChild(n),o.appendChild(i);var m=t.overlay?this._overlaysList:this._baseLayersList;return m.appendChild(o),o},_createRadioElement:function(t,e){var o='<input type="radio" class="mdl-radio__button" name="'+t+'"'+(e?' checked="checked"':"")+"/>";return o}}),L.Control.MaterialGeocoderControl=L.mapbox.GeocoderControl.extend({onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-geocoder-mdl leaflet-bar-mdl leaflet-control"),o=L.DomUtil.create("form","geocoder-form",e),i=L.DomUtil.create("div","mdl-textfield mdl-js-textfield mdl-shadow--2dp",o),l=L.DomUtil.create("input","mdl-textfield__input",i),a=L.DomUtil.create("label","mdl-textfield__label",i),s=L.DomUtil.create("i","material-icons",a),r=L.DomUtil.create("button","mdl-button mdl-js-button mdl-button--icon clear-search",i),n=L.DomUtil.create("i","material-icons",r),m=L.DomUtil.create("div","mdl-progress mdl-js-progress mdl-progress__indeterminate",i),d=L.DomUtil.create("div","leaflet-control-geocoder-results-mdl mdl-shadow--2dp",e);return s.innerHTML="search",n.innerHTML="close",a.setAttribute("for","mapbox-geocoder-mdl"),l.setAttribute("id","mapbox-geocoder-mdl"),l.type="text",l.setAttribute("placeholder","Search..."),r.type="button",L.DomEvent.addListener(r,"click",this._clearSearch,this),L.DomEvent.addListener(o,"submit",this._geocode,this),L.DomEvent.addListener(l,"keyup",this._autocomplete,this),L.DomEvent.disableClickPropagation(e),this._textField=i,this._map=t,this._results=d,this._input=l,this._form=o,e},_clearSearch:function(){this._input.value=null,L.DomUtil.removeClass(this._textField,"is-dirty"),this._closeResults()},_closeResults:function(){for(L.DomUtil.removeClass(this._results,"show-results");this._results.firstChild;)this._results.removeChild(this._results.firstChild)},_displayResults:function(t){L.DomUtil.addClass(this._results,"show-results");for(var e=0,o=Math.min(t.length,5);o>e;e++){var i=t[e],l=i.place_name;if(l.length){var a=L.DomUtil.create("a","",this._results),s="innerText"in a?"innerText":"textContent";a[s]=l,a.href="#",L.bind(function(t){L.DomEvent.addListener(a,"click",function(e){this._chooseResult(t),L.DomEvent.stop(e),this.fire("select",{feature:t})},this)},this)(i)}}if(t.length>5){var r=L.DomUtil.create("span","",this._results);r.innerHTML="Top 5 of "+t.length+"  results"}}});